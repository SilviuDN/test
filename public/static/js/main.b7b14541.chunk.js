(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){e.exports={sectionContainer:"SectionPage_sectionContainer__3bfKx",sectionTitleContainer:"SectionPage_sectionTitleContainer__1MsA8",block:"SectionPage_block__ea1il"}},29:function(e,t,n){e.exports={container:"LecturePage_container__1XYQs",block:"LecturePage_block__tA71t"}},35:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3Z05N",modal:"Modal_modal__39UO0","slide-down":"Modal_slide-down__1Hkc9"}},42:function(e,t,n){e.exports={backdrop:"LectureModal_backdrop__3y4hW",modal:"LectureModal_modal__3NZB9",header:"LectureModal_header__15gFI",content:"LectureModal_content__JWFth",actions:"LectureModal_actions__26h4R"}},60:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(20),a=n.n(r),o=n(8),i=n(14),l=n(16),d=n(15),j=(n(60),n(61),n(9)),u=n(6),h=n(94),b=n(95),O=n(7),p=n(1),x=function(){return Object(p.jsxs)(h.a,{children:[Object(p.jsx)("h1",{children:"Welcome to MateCuMatei"}),Object(p.jsx)("p",{children:"Perseverence leads to inspiration"}),Object(p.jsx)(O.b,{to:"/courses",children:Object(p.jsx)(b.a,{className:"btnBlock",children:"All Courses"})})]})},m=n(26),g=n.n(m),v=function e(){var t=this;Object(o.a)(this,e),this.getAllCourses=function(){return t.app.get("/")},this.getCourse=function(e){return t.app.get("/".concat(e))},this.saveCourse=function(e){return t.app.post("/new",e)},this.editCourse=function(e){return t.app.put("/edit/".concat(e._id),e)},this.app=g.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL+"/courses"})},f=n(96),C=(n(90),n(53)),S=function(e){var t=e.name,n=e.description,s=e.image,c=e._id;e.reviews;return Object(p.jsx)(C.a,{md:4,children:Object(p.jsxs)("article",{className:"courseCard",children:[Object(p.jsx)("img",{src:s,alt:t}),Object(p.jsx)("h4",{children:t}),Object(p.jsxs)("p",{children:[n.slice(0,70),"..."]}),Object(p.jsx)(O.b,{to:"/courses/details/".concat(c),children:Object(p.jsx)(b.a,{className:"btnBlock",children:"Detalii"})})]})})},w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).loadCourses=function(){e.coursesService.getAllCourses().then((function(t){return e.setState({courses:t.data})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){e.loadCourses()},e.state={courses:void 0},e.coursesService=new v,e}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this.state.courses?Object(p.jsx)(f.a,{children:null===(e=this.state.courses)||void 0===e?void 0:e.map((function(e){return Object(p.jsx)(S,Object(j.a)({},e),e._id)}))}):Object(p.jsx)("h1",{children:"waiting2..."});return Object(p.jsx)(p.Fragment,{children:t})}}]),n}(s.Component),_=function(e){var t=e.loggedUser;return Object(p.jsxs)(h.a,{children:[Object(p.jsx)("h1",{children:"Courses list goes here"}),Object(p.jsx)(w,{}),"admin"===(null===t||void 0===t?void 0:t.role)?Object(p.jsx)(O.b,{to:"/courses/new",children:Object(p.jsx)(b.a,{className:"btnBlock",children:"New Course"})}):null,Object(p.jsx)("p",{style:{marginBottom:"3rem"}})]})},k=n(23),y=function e(){var t=this;Object(o.a)(this,e),this.getSection=function(e){return t.app.get("/".concat(e))},this.saveSection=function(e){return t.app.post("/new",e)},this.editSection=function(e){return t.app.put("/edit/".concat(e._id),e)},this.app=g.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL+"sections"})},L=n(42),N=n.n(L),U=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:N.a.backdrop}),Object(p.jsxs)("div",{className:N.a.modal,children:[Object(p.jsx)("iframe",{width:"100%",height:"360",src:e.videoUrl,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"allowfullscreen"}),Object(p.jsx)("button",{className:"btn btn-light",onClick:e.toggleShowLecture,style:{width:"100%"},children:e.showLecture?"Ascunde lectia":"Arata lectia"})]})]})},I=n(29),F=n.n(I),T=function(e){var t=e.lecture,n=e.loggedUser,c=Object(s.useState)(!1),r=Object(k.a)(c,2),a=r[0],o=r[1],i=function(e){o(!a)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(h.a,{className:F.a.container,children:[Object(p.jsx)("div",{className:F.a.block,style:{width:"70%"},children:Object(p.jsxs)("h5",{style:{marginBottom:"0px"},children:[t.sectionNumber,".",t.lectureNumber," - ",t.name]})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:"btn btn-dark",onClick:i,children:a?"Ascunde lectia":"Arata lectia"})}),!a&&"admin"===(null===n||void 0===n?void 0:n.role)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:F.a.block,children:Object(p.jsx)("button",{className:"btn btn-dark",children:"Editeaza Lectie"})}),Object(p.jsx)("div",{className:F.a.block,children:Object(p.jsx)("button",{className:"btn btn-dark",children:"Adauga Lectie"})})]})]}),a&&Object(p.jsx)(U,{videoUrl:t.videoUrl,toggleShowLecture:i,showLecture:a})]})},P=function(e){var t=e.lectures,n=e.loggedUser;return Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(T,{lecture:e,loggedUser:n})}))})},A=n(28),E=n.n(A),D=n(18),R=n(98),M=n(35),B=n.n(M),G=function(e){return Object(p.jsx)("div",{className:B.a.backdrop})},H=function(e){return Object(p.jsx)("div",{className:B.a.modal,children:Object(p.jsx)("div",{className:B.a.content,children:e.children})})},W=document.getElementById("overlays"),K=function(e){return Object(p.jsxs)(s.Fragment,{children:[a.a.createPortal(Object(p.jsx)(G,{}),W),a.a.createPortal(Object(p.jsx)(H,{children:e.children}),W)]})},J=function(e){var t=Object(s.useState)({courseId:e.courseId,name:"",sectionNumber:"",description:""}),n=Object(k.a)(t,2),c=n[0],r=n[1],a=new y,o=(new v,function(e){var t=e.target,n=t.name,s=t.value;r((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(D.a)({},n,s))}))});return Object(p.jsx)(K,{children:Object(p.jsx)(h.a,{children:Object(p.jsxs)(R.a,{onSubmit:function(t){t.preventDefault(),a.saveSection(c).then((function(t){r({name:"",description:"",sectionNumber:""}),e.hideForm(),e.renderList()})).catch((function(e){return console.log(e)}))},children:[Object(p.jsxs)(R.a.Group,{controlId:"name",children:[Object(p.jsx)(R.a.Label,{children:"Title"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.name,onChange:o,name:"name"})]}),Object(p.jsxs)(R.a.Group,{controlId:"desc",children:[Object(p.jsx)(R.a.Label,{children:"Description"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.description,onChange:o,name:"description"})]}),Object(p.jsxs)(R.a.Group,{controlId:"sectionNumber",children:[Object(p.jsx)(R.a.Label,{children:"Section Number"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.sectionNumber,onChange:o,name:"sectionNumber"})]}),Object(p.jsx)(b.a,{style:{marginTop:"20px",width:"30%",marginLeft:"10%"},variant:"dark",type:"submit",onClick:e.hideForm,children:"Cancel"}),Object(p.jsx)(b.a,{style:{marginTop:"20px",width:"30%",marginLeft:"20%"},variant:"dark",type:"submit",children:"Create section"})]})})})},V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).loadSeactionsList=function(){var t=e.props.sectionId;e.sectionService.getSection(t).then((function(t){return e.setState({section:t.data})})).catch((function(e){return console.log(e)}))},e.toggleShowClasses=function(){e.setState({showClasses:!e.state.showClasses})},e.toggleNewSectionForm=function(){e.setState({newSectionFormIsShown:!e.state.newSectionFormIsShown})},e.componentDidUpdate=function(t,n){return n.newSectionFormIsShown!==e.state.newSectionFormIsShown&&e.loadSeactionsList()},e.state={section:void 0,showClasses:!1,newSectionFormIsShown:!1},e.sectionService=new y,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadSeactionsList()}},{key:"render",value:function(){var e;return this.state.section?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(h.a,{className:E.a.sectionContainer,children:[Object(p.jsxs)("div",{className:E.a.sectionTitleContainer,children:[Object(p.jsx)("div",{className:E.a.block,style:{width:"70%"},children:Object(p.jsxs)("h5",{style:{marginBottom:"0px"},children:[this.state.section.sectionNumber," - ",this.state.section.name]})}),Object(p.jsx)("div",{className:E.a.block,children:Object(p.jsx)("button",{className:"btn btn-dark",onClick:this.toggleShowClasses,children:this.state.showClasses?"Ascunde lectiile":"Arata lectiile"})})]}),this.state.showClasses&&Object(p.jsx)(P,{sectionId:this.state.section._id,lectures:this.state.section.lectures,loggedUser:this.props.loggedUser}),this.state.showClasses&&"admin"===(null===(e=this.props.loggedUser)||void 0===e?void 0:e.role)&&Object(p.jsx)("div",{className:E.a.block,children:Object(p.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewSectionForm,children:"Adauga Sectiune"})})]}),this.state.newSectionFormIsShown&&Object(p.jsx)(J,{courseId:this.props.courseId,hideForm:this.toggleNewSectionForm,renderList:this.props.renderList})]}):Object(p.jsx)("h4",{children:"waiting3..."})}}]),n}(s.Component),z=function(e){var t=e.sections,n=e.loggedUser,c=e.courseId,r=Object(s.useState)(!1),a=Object(k.a)(r,2),o=(a[0],a[1]),i=function(){o((function(e){return!e}))};return Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(V,{courseId:c,sectionId:e,loggedUser:n,renderList:i},e)}))})},Y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).toggleShowClasses=function(){e.setState({showClasses:!e.state.showClasses})},e.state={course:void 0,showClasses:!1},e.courseService=new v,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.course_id;this.courseService.getCourse(t).then((function(t){return e.setState({course:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e;return this.state.course?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(f.a,{className:"justify-content-around",children:[Object(p.jsxs)(C.a,{md:6,children:[Object(p.jsx)("h1",{children:this.state.course.name}),Object(p.jsx)("p",{children:this.state.course.description}),Object(p.jsx)("hr",{}),Object(p.jsx)(O.b,{to:"/courses",className:"btn btn-dark",children:"Lista de cursuri"}),Object(p.jsx)("button",{className:"btn btn-dark",onClick:this.toggleShowClasses,style:{marginLeft:"20px"},children:this.state.showClasses?"Ascunde cuprins":"Arata cuprins"})]}),Object(p.jsx)(C.a,{md:4,children:Object(p.jsx)("img",{src:this.state.course.image,alt:this.state.course.name,style:{width:"100%"}})})]}),this.state.showClasses&&Object(p.jsx)(z,{courseId:this.state.course._id,sections:null===(e=this.state.course)||void 0===e?void 0:e.sections,loggedUser:this.props.loggedUser})]}):Object(p.jsx)("h4",{children:"waiting1..."})}}]),n}(s.Component),Z=void 0,Q=function(e){var t=Object(s.useState)({name:"",description:"",typeOfCourse:"",position:"",price:"",discountedPrice:"",image:""}),n=Object(k.a)(t,2),c=n[0],r=n[1],a=new v,o=function(e){var t=e.target,n=t.name,s=t.value;r((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(D.a)({},n,s))}))};return Object(p.jsx)(h.a,{children:Object(p.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),a.saveCourse(c).then((function(){r({name:"",description:"",typeOfCourse:"",position:"",price:"",discountedPrice:"",image:""}),Z.props.history.push("/courses")})).catch((function(e){return console.log(e)}))},children:[Object(p.jsxs)(R.a.Group,{controlId:"name",children:[Object(p.jsx)(R.a.Label,{children:"Title"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.name,onChange:o,name:"name"})]}),Object(p.jsxs)(R.a.Group,{controlId:"desc",children:[Object(p.jsx)(R.a.Label,{children:"Description"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.description,onChange:o,name:"description"})]}),Object(p.jsxs)(R.a.Group,{controlId:"inve",children:[Object(p.jsx)(R.a.Label,{children:"Type"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.typeOfCourse,onChange:o,name:"typeOfCourse"})]}),Object(p.jsxs)(R.a.Group,{controlId:"lng",children:[Object(p.jsx)(R.a.Label,{children:"Position"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.position,onChange:o,name:"position"})]}),Object(p.jsxs)(R.a.Group,{controlId:"lng",children:[Object(p.jsx)(R.a.Label,{children:"Price"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.price,onChange:o,name:"price"})]}),Object(p.jsxs)(R.a.Group,{controlId:"lng",children:[Object(p.jsx)(R.a.Label,{children:"Discounted Price"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.discountedPrice,onChange:o,name:"discountedPrice"})]}),Object(p.jsxs)(R.a.Group,{controlId:"lng",children:[Object(p.jsx)(R.a.Label,{children:"Imagen (URL)"}),Object(p.jsx)(R.a.Control,{type:"text",value:c.image,onChange:o,name:"image"})]}),Object(p.jsx)(b.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Create course"})]})})},X=function e(){var t=this;Object(o.a)(this,e),this.login=function(e,n){return t.app.post("/login",{email:e,pwd:n})},this.signup=function(e,n){return t.app.post("/signup",{email:e,pwd:n})},this.logout=function(){return t.app.get("/logout")},this.isLoggedIn=function(){return t.app.get("/isLoggedIn")},this.app=g.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,withCredentials:!0})},q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleInputChange=function(t){var n=t.target,s=n.name,c=n.value;e.setState(Object(D.a)({},s,c))},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,c=n.pwd;e.authService.signup(s,c).then((function(){return e.props.history.push("/logIn")})).catch((function(e){return console.log(e)}))},e.state={email:"",pwd:""},e.authService=new X,e}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsx)(h.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(C.a,{md:{span:4,offset:4},children:[Object(p.jsx)("h1",{children:"Sign Up"}),Object(p.jsx)("hr",{}),Object(p.jsxs)(R.a,{onSubmit:this.handleFormSubmit,children:[Object(p.jsxs)(R.a.Group,{controlId:"email",children:[Object(p.jsx)(R.a.Label,{children:"email"}),Object(p.jsx)(R.a.Control,{type:"text",value:this.state.email,onChange:this.handleInputChange,name:"email"})]}),Object(p.jsxs)(R.a.Group,{controlId:"pwd",children:[Object(p.jsx)(R.a.Label,{children:"Password"}),Object(p.jsx)(R.a.Control,{type:"password",value:this.state.pwd,onChange:this.handleInputChange,name:"pwd"})]}),Object(p.jsx)(b.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Sign Up"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)(O.b,{to:"/",children:Object(p.jsx)(b.a,{variant:"dark",children:"Home"})})]})})})}}]),n}(s.Component),$=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleInputChange=function(t){var n=t.target,s=n.name,c=n.value;e.setState(Object(D.a)({},s,c))},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,c=n.pwd;e.authService.login(s,c).then((function(t){e.props.storeUser(t.data),e.props.history.push("/courses")})).catch((function(e){return console.log(e)}))},e.state={email:"",pwd:""},e.authService=new X,e}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsx)(h.a,{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(C.a,{md:{span:4,offset:4},children:[Object(p.jsx)("h1",{children:"Log In"}),Object(p.jsx)("hr",{}),Object(p.jsxs)(R.a,{onSubmit:this.handleFormSubmit,children:[Object(p.jsxs)(R.a.Group,{controlId:"email",children:[Object(p.jsx)(R.a.Label,{children:"Email"}),Object(p.jsx)(R.a.Control,{type:"text",value:this.state.email,onChange:this.handleInputChange,name:"email"})]}),Object(p.jsxs)(R.a.Group,{controlId:"pwd",children:[Object(p.jsx)(R.a.Label,{children:"Password"}),Object(p.jsx)(R.a.Control,{type:"password",value:this.state.pwd,onChange:this.handleInputChange,name:"pwd"})]}),Object(p.jsx)(b.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Log In"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)(O.b,{to:"/",children:Object(p.jsx)(b.a,{variant:"dark",children:"Home"})})]})})})}}]),n}(s.Component),ee=function(e){var t=e.storeUser,n=e.loggedUser;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(p.jsx)(x,{})}}),Object(p.jsx)(u.a,{path:"/courses",exact:!0,render:function(){return Object(p.jsx)(_,{loggedUser:n})}}),Object(p.jsx)(u.a,{path:"/courses/details/:course_id",render:function(e){return Object(p.jsx)(Y,Object(j.a)(Object(j.a)({},e),{},{loggedUser:n}))}}),Object(p.jsx)(u.a,{path:"/courses/new",render:function(e){return Object(p.jsx)(Q,Object(j.a)({},e))}}),Object(p.jsx)(u.a,{path:"/signUp",render:function(e){return Object(p.jsx)(q,Object(j.a)({},e))}}),Object(p.jsx)(u.a,{path:"/logIn",render:function(e){return Object(p.jsx)($,Object(j.a)(Object(j.a)({},e),{},{storeUser:t}))}})]})})},te=n(97),ne=n(99),se=function(e){var t=e.storeUser,n=e.loggedUser,s=new X;return Object(p.jsxs)(te.a,{bg:"dark",variant:"dark",expand:"md",style:{marginBottom:"30px"},children:[Object(p.jsx)(te.a.Brand,{href:"#home",children:"MateCuMatei"}),Object(p.jsx)(te.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(te.a.Collapse,{className:"justify-content-end",children:Object(p.jsxs)(ne.a,{className:"mr-auto",children:[Object(p.jsx)(O.b,{className:"nav-link",to:"/",children:"Home"}),Object(p.jsx)(O.b,{className:"nav-link",to:"/courses",children:"Courses"}),!n||"admin"!==n.role&&"superUser"!==n.role?null:Object(p.jsx)(O.b,{className:"nav-link",to:"/courses/new",children:"NewCourse"}),n?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"nav-link",onClick:function(){s.logout().then((function(){return t(void 0)})).catch((function(e){return console.log(e)}))},children:"LogOut"})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O.b,{className:"nav-link",to:"/signup",children:"SignUp"}),Object(p.jsx)(O.b,{className:"nav-link",to:"/login",children:"LogIn"})]}),Object(p.jsxs)("span",{className:"nav-link",children:["Salutare ",n?", "+n.email:"","!"]})]})})]})},ce=function(){return Object(p.jsx)("footer",{style:{background:"#212529",color:"white",textAlign:"center",fontSize:".7em",position:"fixed",bottom:0,padding:5,width:"100%"},children:"Persistance leads to inspiration."})},re=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).storeUser=function(t){return e.setState({loggedUser:t})},e.fetchUser=function(){e.authService.isLoggedIn().then((function(t){return e.storeUser(t.data)})).catch((function(){return e.storeUser(void 0)}))},e.componentDidMount=function(){return e.fetchUser()},e.state={loggedUser:void 0},e.authService=new X,e}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(se,{storeUser:this.storeUser,loggedUser:this.state.loggedUser}),Object(p.jsx)(ee,{storeUser:this.storeUser,loggedUser:this.state.loggedUser}),Object(p.jsx)(ce,{})]})}}]),n}(s.Component);a.a.render(Object(p.jsx)(O.a,{children:Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(re,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.b7b14541.chunk.js.map